org: yieldx
app: lambdas-shoebox
service: lambdas-shoebox

frameworkVersion: '2 || 3'

provider:
  name: aws
  runtime: nodejs16.x
  profile: yieldx

functions:
  get_reports:
    handler: get_reports.default
    events:
      - http:
          method: get
          path: get-reports
          integration: lambda
          cors: true
          request:
            parameters:
              querystrings:
                username: false
            template:
              application/json: |
                { 
                  "username" : "$input.params('username')"
                }

  get_devices:
    handler: get_devices.default
    events:
      - http:
          method: get
          path: get-devices
          integration: lambda
          cors: true
          request:
            parameters:
              querystrings:
                username: false
            template:
              application/json: |
                { 
                  "username" : "$input.params('username')"
                }
